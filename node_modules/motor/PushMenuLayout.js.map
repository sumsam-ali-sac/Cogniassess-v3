{"version":3,"sources":["src/PushMenuLayout.js"],"names":[],"mappings":"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","file":"PushMenuLayout.js","sourcesContent":["/*\n * LICENSE\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n */\n\nimport jss from 'jss';\n\nimport Surface from 'famous/core/Surface';\nimport Transitionable from 'famous/transitions/Transitionable';\nimport Easing from 'famous/transitions/Easing';\nimport TouchSync from 'famous/inputs/TouchSync';\nimport GenericSync from 'famous/inputs/GenericSync';\n\nimport Plane from './Plane';\nimport Molecule from './Molecule';\nimport {simpleExtend} from './utils'\n\nimport callAfter from 'army-knife/callAfter';\n\n/**\n * A scenegraph with two Molecule leafnodes: the menu area and the content\n * area. The menu area is hidden beyond the edge of the screen while the\n * content area is visible. Swiping in from the edge of the screen reveals the\n * menu, putting the content area out of focus. A mouse can also be used, and\n * hovering near the edge of the screen also reveals the menu.\n *\n * Note: This layout is mostly useful if it exists at the root of a context so\n * that the menu is clipped when it is closed (off to the side), otherwise the\n * menu will be visible beyond the boundary of the container that contains the\n * PushMenuLayout.\n *\n * Note: If you've called `openMenu` or `closeMenu` with a callback, the callback\n * will be canceled if a drag or hover on the menu happens before the animation\n * has completed. Please open an issue on GitHub if you have any opinion\n * against this. :) Maybe we can add a boolean option for this behavior.\n *\n * TODO: Embed working example here.\n *\n * @class PushMenuLayout\n * @extends Molecule\n */\nexport class PushMenuLayout extends Molecule {\n\n    /**\n     * Creates a new PushMenuLayout.\n     *\n     * @constructor\n     * @param {Object} options The options to instantiate a `PushMenuLayout` with.\n     *\n     * TODO v0.1.0: Handle `PushMenuLayout`-specific user options. Currently they\n     * just get passed into super() for the Molecule constructor to handle.\n     */\n    constructor(initialOptions) {\n        super(initialOptions);\n\n        // Add default values for this PushMenuLayout\n        // TODO: Make default options static for the class.\n        simpleExtend(this._.defaultOptions, {\n            menuSide: 'left', // left or right\n            menuWidth: 200,\n            menuHintSize: 10, // the amount of the menu that is visible before opening the menu.\n            pushAreaWidth: 40, // the area on the screen edge that the user can touch and drag to push out the menu.\n            animationDuration: 1000,\n            animationType: 'foldDown', // options: foldDown moveBack\n\n            // TODO: Background color for the whole layout should be the color that the fade fades to.\n            // TODO: Replace fade star/end colors with a fog color value and intensity.\n            fade: true, // when content recedes, it fades into the fog.\n            fadeStartColor: 'rgba(255,255,255,0)',\n            fadeEndColor: 'rgba(255,255,255,1)',\n\n            blur: false, // XXX: WIP, so false by default.\n            blurRadius: 5\n        })\n\n        // TODO: performance hit, this setter is invoked in the Molecule constructor, then here again.\n        this.options = initialOptions\n\n        // TODO v0.1.0: Mark these as private.\n            // TODO v0.1.0: this.contentWidth should be the width of whatever is containing\n            // the layout, but we're just using it as a whole-page app for now. Get\n            // size from a commit? UPDATE: See the new famous/views/SizeAwareView\n            this.contentWidth = document.body.clientWidth - this.options.menuHintSize;\n\n            // Changing these values outside of an instance of PushMenuLayout might\n            // cause the layout to break. They are designed to be modified\n            // internally only.\n            this.isOpen = false;\n            this.isOpening = false;\n            this.isClosing = false;\n            this.isAnimating = false; // keep track of whether the menu is opening or closing.\n            this.isBeingDragged = false; // whether the user is dragging/pushing the menu or not.\n            this.transitionCallback = undefined; // holds the callback to the current open or close menu animation.\n\n        // Set the touch sync for pulling/pushing the menu open/closed.\n        GenericSync.register({\n            touch: TouchSync\n        });\n\n        this._createComponents();\n        this._initializeEvents();\n    }\n\n    /**\n     * See Molecule.setOptions\n     *\n     * @override\n     */\n    setOptions(newOptions) {\n        super.setOptions(newOptions)\n    }\n\n    /**\n     * See Molecule.resetOptions\n     *\n     * @override\n     */\n    resetOptions() {\n        super.resetOptions()\n    }\n\n    /**\n     * Creates the menu area, content area, `Plane` for the fade effect, etc.\n     *\n     * @private\n     */\n    _createComponents() {\n        var layout = this;\n\n        this.touchSync = new GenericSync(['touch']);\n\n        this.alignment = (this.options.menuSide == \"left\"? 0: 1);\n        this.animationTransition = new Transitionable(0);\n\n        this.mainMol = new Molecule();\n\n        this.menuMol = new Molecule({\n            size: [this.options.menuWidth,undefined]\n        });\n        this.menuMol.oldTransform = this.menuMol.transform;\n        this.menuMol.transform = function() { // override\n            var currentPosition = layout.animationTransition.get();\n            switch(layout.options.animationType) {\n                case \"foldDown\":\n                    // XXX: this is depending on my modifications for TransitionableTransform.\n                    this.oldTransform.setTranslateX(\n                        layout.options.menuSide == 'left'?\n                            currentPosition *  (layout.options.menuWidth-layout.options.menuHintSize)/*range*/ - (layout.options.menuWidth-layout.options.menuHintSize)/*offset*/:\n                            currentPosition * -(layout.options.menuWidth-layout.options.menuHintSize)/*range*/ + (layout.options.menuWidth-layout.options.menuHintSize)/*offset*/\n                    );\n                    break;\n                case \"moveBack\":\n                    // XXX: this is depending on my modifications for TransitionableTransform.\n                    this.oldTransform.setTranslateX(\n                        layout.options.menuSide == 'left'?\n                            currentPosition *  (layout.options.menuWidth-layout.options.menuHintSize)/*range*/ - (layout.options.menuWidth-layout.options.menuHintSize)/*offset*/:\n                            currentPosition * -(layout.options.menuWidth-layout.options.menuHintSize)/*range*/ + (layout.options.menuWidth-layout.options.menuHintSize)/*offset*/\n                    );\n                    break;\n            }\n            return this.oldTransform.get();\n        }.bind(this.menuMol);\n\n        // contains the user's menu content.\n        this.menuContentMol = new Molecule();\n\n        this.contentMol = new Molecule({\n            size: [this.contentWidth,undefined]\n        });\n        this.contentMol.oldTransform = this.contentMol.transform;\n        this.contentMol.transform = function() { // override\n            var currentPosition = layout.animationTransition.get();\n            switch(layout.options.animationType) {\n                case \"foldDown\":\n                    // XXX: this is depending on my modifications for TransitionableTransform.\n                    this.oldTransform.setTranslateX(\n                        layout.options.menuSide == 'left'?\n                            currentPosition *  (layout.options.menuWidth - layout.options.menuHintSize)/*range*/ + layout.options.menuHintSize/*offset*/:\n                            currentPosition * -(layout.options.menuWidth - layout.options.menuHintSize)/*range*/ - layout.options.menuHintSize/*offset*/\n                    );\n                    // XXX: this is depending on my modifications for TransitionableTransform.\n                    this.oldTransform.setRotateY(\n                        layout.options.menuSide == 'left'?\n                            currentPosition *  Math.PI/8:\n                            currentPosition * -Math.PI/8\n                    );\n                    break;\n                case \"moveBack\":\n                    var depth = 100;\n                    // XXX: this is depending on my modifications for TransitionableTransform.\n                    this.oldTransform.setTranslateX(\n                        layout.options.menuSide == 'left'?\n                            layout.options.menuHintSize:\n                            -layout.options.menuHintSize\n                    );\n                    this.oldTransform.setTranslateZ(\n                        currentPosition * -depth\n                    );\n                    break;\n            }\n            return this.oldTransform.get();\n        }.bind(this.contentMol);\n\n        this.menuTouchPlane = new Plane({\n            size: [this.options.menuWidth + this.options.pushAreaWidth - this.options.menuHintSize, undefined],\n            properties: {\n                zIndex: '-1000' // below everything\n            }\n        });\n\n        this.mainMol.setOptions({\n            origin: [this.alignment, 0.5],\n            align: [this.alignment, 0.5]\n        });\n        this.menuMol.setOptions({\n            origin: [this.alignment, 0.5],\n            align: [this.alignment, 0.5]\n        });\n        this.contentMol.setOptions({\n            origin: [this.alignment, 0.5],\n            align: [this.alignment, 0.5]\n        });\n\n        // FIXME: WHY THE EFF must I also set align and origin on menuTouchPlane\n        // when I've already set it on it's parent (this.menuMol)?????\n        this.menuTouchPlane.setOptions({\n            origin: [this.alignment, 0.5],\n            align: [this.alignment, 0.5]\n        });\n\n        // Bring the menu content molecule and touch plane forward just\n        // slightly so they're just above the content and content's fade plane,\n        // so touch and mouse interaction works. HTML, the bad parts. ;)\n        this.menuContentMol.transform.setTranslateZ(2);\n        this.menuTouchPlane.transform.setTranslateZ(2);\n\n        /*\n         * Styles for the fadePlane\n         */\n        // TODO: move this somewhere else . it's specific for each animation\n        this.updateStyles = function() {\n            var startColor\n            var endColor\n\n            switch(this.options.animationType) {\n                case \"foldDown\":\n                    startColor = this.options.fadeStartColor\n                    endColor = this.options.fadeEndColor\n                    break;\n                case \"moveBack\":\n                    startColor = endColor = this.options.fadeEndColor\n                    break;\n            }\n\n            var styles = {\n                '.motor-fadeLeft': {\n                    background: [\n                        endColor,\n                        '-moz-linear-gradient(left, '+endColor+' 0%, '+startColor+' 100%)',\n                        '-webkit-gradient(left top, right top, color-stop(0%, '+endColor+'), color-stop(100%, '+startColor+'))',\n                        '-webkit-linear-gradient(left, '+endColor+' 0%, '+startColor+' 100%)',\n                        '-o-linear-gradient(left, '+endColor+' 0%, '+startColor+' 100%)',\n                        '-ms-linear-gradient(left, '+endColor+' 0%, '+startColor+' 100%)',\n                        'linear-gradient(to right, '+endColor+' 0%, '+startColor+' 100%)'\n                    ],\n                    filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\\'#cc000000\\', endColorstr=\\'#4d000000\\', GradientType=1 )'\n                },\n                '.motor-fadeRight': {\n                    background: [\n                        startColor,\n                        '-moz-linear-gradient(left, '+startColor+' 0%, '+endColor+' 100%)',\n                        '-webkit-gradient(left top, right top, color-stop(0%, '+startColor+'), color-stop(100%, '+endColor+'))',\n                        '-webkit-linear-gradient(left, '+startColor+' 0%, '+endColor+' 100%)',\n                        '-o-linear-gradient(left, '+startColor+' 0%, '+endColor+' 100%)',\n                        '-ms-linear-gradient(left, '+startColor+' 0%, '+endColor+' 100%)',\n                        'linear-gradient(to right, '+startColor+' 0%, '+endColor+' 100%)'\n                    ],\n                    filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\\'#4d000000\\', endColorstr=\\'#cc000000\\', GradientType=1 )'\n                }\n            };\n\n            if (this.fadeStylesheet) { this.fadeStylesheet.detach(); }\n            this.fadeStylesheet = jss.createStyleSheet(styles);\n            this.fadeStylesheet.attach();\n        };\n\n        if (this.options.fade) {\n            this.updateStyles();\n\n            this.fadePlane = new Plane({\n                size: [undefined,undefined],\n                classes: [\n                    // TODO: switch to jss namespace.\n                    (this.options.menuSide == 'left'? 'motor-fadeRight': 'motor-fadeLeft')\n                ],\n                properties: {\n                    zIndex: '1000',\n                    pointerEvents: 'none'\n                }\n            });\n\n            // FIXME: Why the EFF must I also set align and origin on fadePlane when\n            // I've already set it on it's parent (this.contentMol)?????\n            this.fadePlane.setOptions({\n                origin: [this.alignment, 0.5],\n                align: [this.alignment, 0.5]\n            });\n\n            // move the fadePlane forward by 1px so it doesn't glitch out.\n            // Chrome will make the fadePlane and the surface in the content\n            // area (if any) blink randomly when the two surfaces are in the\n            // same exact position together.\n            this.fadePlane.transform.setTranslateZ(1);\n\n            this.fadePlane.setOptions({\n                opacity: this.animationTransition\n            });\n\n            // TODO: Make fadePlane a sibling to menuMol and contentMol so that\n            // contentMol contains only the user;s content. This will affect\n            // the code in this.render().\n            this.contentMol.add(this.fadePlane);\n        }\n\n        this.add(this.mainMol);\n        this.mainMol.add(this.contentMol);\n        this.menuMol.add(this.menuTouchPlane);\n        this.menuMol.add(this.menuContentMol);\n        this.mainMol.add(this.menuMol);\n        // TODO: Also create and add a background plane for the menu area so it will catch events that might fall through the menu content.\n    }\n\n    /**\n     * Sets up the events for the touch and mouse interaction that opens and\n     * closes the menu.\n     *\n     * @private\n     */\n    _initializeEvents() {\n\n        // move the menu, following the user's drag. Don't let the user drag the menu past the menu width.\n        this.options.handler.on('update', function(event) { // update == drag\n            this.isBeingDragged = true;\n\n            // stop the current transitions if any, along with the current callback if any.\n            this._haltAnimation(true);\n\n            var currentPosition = this.animationTransition.get();\n\n            // TODO: handle the right-side menu.\n            switch(this.options.animationType) {\n                case \"foldDown\":\n                    this.animationTransition.set(currentPosition + event.delta[0] / (this.options.menuWidth - this.options.menuHintSize));\n                    break;\n                case \"moveBack\":\n                    this.animationTransition.set(currentPosition + event.delta[0] / (this.options.menuWidth - this.options.menuHintSize));\n                    break;\n            }\n\n            currentPosition = this.animationTransition.get();\n\n            if (currentPosition > 1) {\n                this.animationTransition.set(1);\n            }\n            else if (currentPosition < 0) {\n                this.animationTransition.set(0);\n            }\n        }.bind(this));\n\n        this.options.handler.on('end', function(event) {\n            this.isBeingDragged = false;\n\n            var currentPosition = this.animationTransition.get();\n\n            if (currentPosition < 0.5) {\n                this.closeMenu();\n            }\n            else {\n                this.openMenu();\n            }\n        }.bind(this));\n\n        // TODO v0.1.0: Use a SizeAwareView instead of relying on the body, since we\n        // might not be directly in the body.\n        window.addEventListener('resize', function(event) {\n            this.contentWidth = document.body.clientWidth - this.options.menuHintSize;\n            this.contentMol.setOptions({size: [this.contentWidth, undefined]});\n        }.bind(this));\n\n        /*\n         * Wire up events\n         * TODO: consolidate dup code here and in setMenu\n         */\n        this.menuTouchPlane.pipe(this.touchSync);\n        this.menuTouchPlane.on('mouseenter', function() {\n            if (!this.isOpening) {\n                this.openMenu();\n            }\n        }.bind(this))\n        this.menuTouchPlane.on('mouseleave', function() {\n            if (!this.isClosing) {\n                this.closeMenu();\n            }\n        }.bind(this))\n        this.touchSync.pipe(this.options.handler);\n    }\n\n    /**\n     * Add a scenegraph to the content area of the PushMenuLayout. You can put\n     * anything you want into the content area (magical 3D things for example),\n     * just be careful not to let them cover the menu or you'll block the user\n     * from interacting with the menu.\n     *\n     * @param {module: famous/core/RenderNode} node A scenegraph, i.e. a\n     * RenderNode with stuff in it.\n     *\n     * TODO: Accept plain renderables, f.e. Surfaces, etc. This change requires\n     * also modifying the code in this.render() to account for renderables.\n     *\n     * TODO: Make a sibling method to reset the content area.\n     */\n    setContent(node) {\n        this.contentMol.add(node)\n    }\n\n    /**\n     * Add a scenegraph to the menu area of the PushMenuLayout. If the object\n     * that you pass into setMenu is a motor component, or a famo.us\n     * Surface, then it's events will be piped to this PushMenuLayout's input\n     * sync so that the user can open and close the menu with touch or mouse.\n     * General advice here would be to keep whatever you put into the menu\n     * contained within the boundaries of the menu or you might have touch and\n     * mouse interaction outside of the menu.\n     *\n     * @param {module: famous/core/RenderNode} node A scenegraph, i.e. a\n     * RenderNode with stuff in it.\n     *\n     * TODO: Accept plain renderables, f.e. Surfaces, etc.\n     *\n     * TODO: Remove old content before adding new content.\n     */\n    setMenu(node) {\n        this.menuContentMol.add(node)\n        if (node instanceof Molecule) {\n            node.pipe(this.touchSync)\n            node.on('mouseenter', function() {\n                if (!this.isOpening) {\n                    this.openMenu();\n                }\n            }.bind(this))\n            node.on('mouseleave', function() {\n                if (!this.isClosing) {\n                    this.closeMenu();\n                }\n            }.bind(this))\n        }\n    }\n\n    // TODO: replace menu easing with physics so the user can throw the menu,\n    // using initial velocity and drag to slow it down, and stop immediately\n    // when it hits the fully-open or fully-closed positions.\n\n    /**\n     * Opens the menu.\n     *\n     * @param {Function} callback The function to be called when the animation finishes.\n     * @param {boolean} [cancelPreviousCallback=false] This is optional. If\n     * true, then the callback of a previous open or close animation will be\n     * canceled if that animation was still inprogress when this method is\n     * called, otherwise the callback of the previous open or close animation\n     * will be fired immediately before the animation for this animation begins.\n     */\n    openMenu(callback, cancelPreviousCallback) {\n        this._haltAnimation(cancelPreviousCallback);\n\n        this.isClosing = false;\n        this.isOpening = true;\n\n        this._animate('open', callback);\n    }\n\n    /**\n     * Closes the menu.\n     *\n     * @param {Function} callback The function to be called when the animation finishes.\n     * @param {boolean} [cancelPreviousCallback=false] This is optional. If\n     * true, then the callback of a previous open or close animation will be\n     * canceled if that animation was still inprogress when this method is\n     * called, otherwise the callback of the previous open or close animation\n     * will be fired immediately before the animation for this animation begins.\n     */\n    closeMenu(callback, cancelPreviousCallback) {\n        this._haltAnimation(cancelPreviousCallback);\n\n        this.isClosing = true;\n        this.isOpening = false;\n\n        this._animate('close', callback);\n    }\n\n    /**\n     * Toggles the menu open or closed. If the menu is open or is opening, then it will now start\n     * closing, and vice versa.\n     *\n     * @param {Function} callback The function to be called when the animation finishes.\n     * @param {boolean} [cancelPreviousCallback=false] This is optional. If\n     * true, then the callback of a previous open or close animation will be\n     * canceled if that animation was still inprogress when this method is\n     * called, otherwise the callback of the previous open or close animation\n     * will be fired immediately before the animation for this animation begins.\n     */\n    toggleMenu(callback, cancelPreviousCallback) {\n        if (this.isOpen || this.isOpening) {\n            this.closeMenu(callback, cancelPreviousCallback);\n        }\n        else if (!this.isOpen || this.isClosing) {\n            this.openMenu(callback, cancelPreviousCallback);\n        }\n    }\n\n    /**\n     * Animates the menu to it's target state.\n     *\n     * @private\n     * @param {String} targetState The name of the state to animate to.\n     * @param {Function} callback The function to call after the animation completes.\n     */\n    _animate(targetState, callback) {\n        this.isAnimating = true;\n        this.transitionCallback = callback;\n        var _callback;\n\n        var self = this;\n        function setupCallback(numberOfTransitions) {\n            // Fire callback after numberOfTransitions calls, when the 4 transitions are complete.\n            _callback = callAfter(numberOfTransitions, function() {\n                self.isAnimating = self.isOpening = self.isClosing = false;\n                self.isOpen = targetState == 'open'? true: false;\n                if (typeof self.transitionCallback == 'function') {\n                    self.transitionCallback();\n                }\n                self.transitionCallback = undefined;\n            }.bind(self));\n        }\n\n        setupCallback(1);\n        if (targetState == 'open') {\n            this.animationTransition.set(1, {duration: this.options.animationDuration, curve: Easing.outExpo}, _callback);\n        }\n        else if (targetState == 'close') {\n            this.animationTransition.set(0, {duration: this.options.animationDuration, curve: Easing.outExpo}, _callback);\n        }\n    }\n\n    /**\n     * Halts the current animation, if any.\n     *\n     * @private\n     * @param {boolean} [cancelCallback=false] Defaults to false. If true, the\n     * halted animation's callback won't fire, otherwise it will be fired.\n     */\n    _haltAnimation(cancelCallback) {\n        if (this.isAnimating) {\n            if (!cancelCallback && typeof this.transitionCallback == 'function') {\n                this.transitionCallback();\n            }\n            this.transitionCallback = undefined;\n            this.animationTransition.halt();\n        }\n    }\n\n    /**\n     * @override\n     */\n    render() {\n\n        // Blur the content if this.options.blur is true, and the animation is moveBack.\n        //\n        // TODO: Make the item to to be blur specifiable, perhaps with a method on\n        // this.\n        if (this.options.blur && this.options.fade && this.options.animationType == 'moveBack') {\n            let momentaryBlur = (this.animationTransition.get() * this.options.blurRadius)\n            let filter = {\n                \"-webkit-filter\": 'blur('+momentaryBlur+'px)',\n                \"-moz-filter\":    'blur('+momentaryBlur+'px)',\n                \"-ms-filter\":     'blur('+momentaryBlur+'px)',\n                \"-o-filter\":      'blur('+momentaryBlur+'px)',\n                filter:           'blur('+momentaryBlur+'px)'\n            }\n\n            // TODO TODO TODO v0.1.0: Make fadePlane a sibling with menu and\n            // content molecules or the following breaks if fade is false.\n            // Then remove the check for this.options.fade in the previous if\n            // statement above.\n            if (this.contentMol._child[1].get() instanceof Surface) {\n                this.contentMol.get().setProperties(filter)\n            }\n            else if (this.contentMol._child[1] instanceof Plane) {\n                this.contentMol._child[1].surface.setProperties(filter)\n            }\n        }\n\n        return super.render()\n    }\n}\nexport default PushMenuLayout;\n"]}